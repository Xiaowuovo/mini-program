<!--pages/edit-profile/edit-profile.wxml-->
<view class="container edit-profile-page">
  <!-- 头像 -->
  <view class="form-section">
    <view class="avatar-row" bindtap="chooseAvatar">
      <view class="label">头像</view>
      <view class="avatar-wrapper">
        <image src="{{form.avatar || '/images/default-avatar.png'}}" class="avatar"></image>
        <text class="change-text">修改</text>
      </view>
    </view>
  </view>

  <!-- 基本信息 -->
  <view class="form-section">
    <view class="form-item">
      <view class="label">昵称</view>
      <input
        class="input"
        placeholder="请输入昵称"
        value="{{form.nickname}}"
        bindinput="onNicknameInput"
        maxlength="20"
      />
    </view>

    <view class="form-item">
      <view class="label">性别</view>
      <picker mode="selector" range="{{genderOptions}}" value="{{form.gender}}" bindchange="onGenderChange">
        <view class="picker-value">
          <text>{{genderOptions[form.gender]}}</text>
          <text class="arrow">></text>
        </view>
      </picker>
    </view>

    <view class="form-item">
      <view class="label">手机号</view>
      <input
        class="input"
        type="number"
        placeholder="请输入手机号"
        value="{{form.phone}}"
        bindinput="onPhoneInput"
        maxlength="11"
      />
    </view>

    <view class="form-item">
      <view class="label">地址</view>
      <input
        class="input"
        placeholder="请输入地址"
        value="{{form.address}}"
        bindinput="onAddressInput"
      />
    </view>
  </view>

  <!-- 个人简介 -->
  <view class="form-section">
    <view class="section-title">个人简介</view>
    <textarea
      class="bio-input"
      placeholder="介绍一下自己吧~"
      value="{{form.bio}}"
      bindinput="onBioInput"
      maxlength="200"
    ></textarea>
    <view class="char-count">{{form.bio.length}}/200</view>
  </view>

  <!-- 保存按钮 -->
  <view class="button-section">
    <button class="save-btn" bindtap="saveProfile">保存</button>
  </view>
</view>
