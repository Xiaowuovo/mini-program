<!--pages/profile/profile.wxml-->
<view class="container profile-page">
  <!-- 顶部背景 -->
  <view class="profile-header">
    <!-- 用户信息卡片 -->
    <view class="user-card" bindtap="editProfile">
      <image
        src="{{userInfo.avatar || 'https://img.icons8.com/fluency/96/user-male-circle.png'}}"
        class="user-avatar"
        mode="aspectFill"
      ></image>
      <view class="user-info">
        <text class="user-name">{{userInfo.nickname || '测试用户'}}</text>
        <text class="user-desc">查看和编辑个人资料 ></text>
      </view>
    </view>

    <!-- 数据统计卡片 -->
    <view class="stats-card">
      <view class="stat-item" bindtap="navigateTo" data-url="/pages/orders/orders">
        <text class="stat-value">{{stats.orderCount}}</text>
        <text class="stat-label">订单</text>
      </view>
      <view class="stat-divider"></view>
      <view class="stat-item" bindtap="navigateTo" data-url="/pages/my-gardens/my-gardens">
        <text class="stat-value">{{stats.gardenCount}}</text>
        <text class="stat-label">菜地</text>
      </view>
      <view class="stat-divider"></view>
      <view class="stat-item" bindtap="navigateTo" data-url="/pages/community/community?mine=true">
        <text class="stat-value">{{stats.postCount}}</text>
        <text class="stat-label">动态</text>
      </view>
      <view class="stat-divider"></view>
      <view class="stat-item">
        <text class="stat-value">{{stats.likeCount}}</text>
        <text class="stat-label">获赞</text>
      </view>
    </view>
  </view>

  <!-- 功能菜单 -->
  <view class="menu-section">
    <view
      wx:for="{{menuList}}"
      wx:key="id"
      class="menu-item"
      bindtap="navigateTo"
      data-url="{{item.url}}"
      hover-class="menu-item-hover"
    >
      <view class="menu-left">
        <image src="{{item.icon}}" class="menu-icon" mode="aspectFit"></image>
        <text class="menu-title">{{item.title}}</text>
        <view wx:if="{{item.badge}}" class="menu-badge">{{item.badge}}</view>
      </view>
      <text class="menu-arrow">></text>
    </view>
  </view>

  <!-- 设置区域 -->
  <view class="menu-section">
    <view
      class="menu-item"
      bindtap="navigateTo"
      data-url="/pages/settings/settings"
      hover-class="menu-item-hover"
    >
      <view class="menu-left">
        <image src="https://img.icons8.com/fluency/96/settings.png" class="menu-icon" mode="aspectFit"></image>
        <text class="menu-title">设置</text>
      </view>
      <text class="menu-arrow">></text>
    </view>
  </view>

  <!-- 底部安全区 -->
  <view class="safe-bottom"></view>
</view>
